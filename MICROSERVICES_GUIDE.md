
# å¤šç¯å¢ƒå¾®æœåŠ¡æ¶æ„é‡æ„æŒ‡å—

ä¸ºäº†æ”¯æŒåœ¨ä¸¤ä¸ªä¸åŒçš„Condaç¯å¢ƒä¸­è¿è¡Œä¸åŒçš„æ¨¡å‹ï¼Œæˆ‘ä»¬å·²ç»å°†é¡¹ç›®é‡æ„ä¸ºå¾®æœåŠ¡æ¶æ„ã€‚

## æ¶æ„æ¦‚è§ˆ

| æœåŠ¡åç§° | ç«¯å£ | èŒè´£ | æ¨èç¯å¢ƒ |
| :--- | :--- | :--- | :--- |
| **API Gateway** | 8000 | ç»Ÿä¸€å…¥å£ï¼Œåè°ƒè¯·æ±‚ï¼Œå¤„ç†ä¸Šä¼  | Base / DRç¯å¢ƒ |
| **DR Grading Service** | 8001 | è¿è¡ŒResNetæ¨¡å‹è¿›è¡ŒDRåˆ†çº§ | **DRç¯å¢ƒ (Env A)** |
| **Multimodal Service** | 8002 | è¿è¡ŒQwen-VLå’ŒDeepSeek-R1 | **å¤šæ¨¡æ€ç¯å¢ƒ (Env B)** |

## ç›®å½•ç»“æ„å˜æ›´

```
multimodal_diagnosis_system/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/                 # [ä¿®æ”¹] ç°åœ¨ä½œä¸ºç½‘å…³ï¼Œä¸ç›´æ¥åŠ è½½æ¨¡å‹
â”‚   â”‚   â””â”€â”€ main.py
â”‚   â”œâ”€â”€ services/            # [æ–°å¢] å¾®æœåŠ¡ç›®å½•
â”‚   â”‚   â”œâ”€â”€ dr_grading/      # DRåˆ†çº§æœåŠ¡ä»£ç 
â”‚   â”‚   â”‚   â””â”€â”€ main.py
â”‚   â”‚   â””â”€â”€ multimodal/      # å¤šæ¨¡æ€æœåŠ¡ä»£ç 
â”‚   â”‚       â””â”€â”€ main.py
â”‚   â””â”€â”€ ...
â”œâ”€â”€ scripts/                 # [æ–°å¢] å¯åŠ¨è„šæœ¬
â”‚   â”œâ”€â”€ start_dr_service.bat
â”‚   â”œâ”€â”€ start_multimodal_service.bat
â”‚   â”œâ”€â”€ start_gateway.bat
â”‚   â””â”€â”€ start_all_services.bat
â””â”€â”€ ...
```

## ğŸš€ å¯åŠ¨æ­¥éª¤ (é‡è¦)

åœ¨ä½¿ç”¨ä¹‹å‰ï¼Œæ‚¨**å¿…é¡»**ä¿®æ”¹å¯åŠ¨è„šæœ¬ä¸­çš„ç¯å¢ƒåç§°ã€‚

### 1. é…ç½® DR ç¯å¢ƒè„šæœ¬
æ‰“å¼€ `scripts/start_dr_service.bat`ï¼Œæ‰¾åˆ°ä»¥ä¸‹è¡Œå¹¶ä¿®æ”¹ä¸ºæ‚¨è¿è¡ŒResNetçš„Condaç¯å¢ƒåç§°ï¼š
```bat
REM Set your DR environment name here
set DR_ENV_NAME=æ‚¨çš„DRç¯å¢ƒåç§°  <-- ä¿®æ”¹è¿™é‡Œ
```

### 2. é…ç½® å¤šæ¨¡æ€ ç¯å¢ƒè„šæœ¬
æ‰“å¼€ `scripts/start_multimodal_service.bat`ï¼Œæ‰¾åˆ°ä»¥ä¸‹è¡Œå¹¶ä¿®æ”¹ä¸ºæ‚¨è¿è¡ŒQwen/DeepSeekçš„Condaç¯å¢ƒåç§°ï¼š
```bat
REM Set your Multimodal environment name here
set MULTIMODAL_ENV_NAME=æ‚¨çš„å¤šæ¨¡æ€ç¯å¢ƒåç§°  <-- ä¿®æ”¹è¿™é‡Œ
```

### 3. ä¸€é”®å¯åŠ¨
åŒå‡»è¿è¡Œ `scripts/start_all_services.bat`ã€‚
- å®ƒä¼šæ‰“å¼€3ä¸ªç‹¬ç«‹çš„å‘½ä»¤è¡Œçª—å£ã€‚
- åªè¦3ä¸ªçª—å£éƒ½æ²¡æœ‰æŠ¥é”™ï¼Œç³»ç»Ÿå°±å¯åŠ¨æˆåŠŸäº†ã€‚
- è®¿é—® `http://localhost:8000/docs` æŸ¥çœ‹ç»Ÿä¸€çš„APIæ–‡æ¡£ã€‚

## éªŒè¯
- **DRæœåŠ¡å¥åº·æ£€æŸ¥**: `http://localhost:8001/health`
- **å¤šæ¨¡æ€æœåŠ¡å¥åº·æ£€æŸ¥**: `http://localhost:8002/health`
- **ç½‘å…³å¥åº·æ£€æŸ¥**: `http://localhost:8000/health` (ä¼šæ˜¾ç¤ºæ‰€æœ‰å­æœåŠ¡çš„çŠ¶æ€)
